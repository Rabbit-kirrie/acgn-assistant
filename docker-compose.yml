services:
  acgn-assistant-api:
    build: .
    ports:
      - "8000:8000"
    environment:
      ENV: prod
      PYTHONPATH: /app/src
      # 建议用持久化卷存储数据库
      DATABASE_URL: sqlite:////data/app.db
      JWT_SECRET: change-me-in-prod
      DEEPSEEK_API_KEY: ${DEEPSEEK_API_KEY}
      DEEPSEEK_MODEL: ${DEEPSEEK_MODEL:-deepseek-chat}
      DEEPSEEK_BASE_URL: ${DEEPSEEK_BASE_URL:-https://api.deepseek.com}
    volumes:
      - xinling_data:/data

volumes:
  xinling_data:
